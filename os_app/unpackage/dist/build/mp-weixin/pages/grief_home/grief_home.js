(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/grief_home/grief_home"],{"0449":function(n,i,e){},"1b3f":function(n,i,e){"use strict";var t=e("0449"),o=e.n(t);o.a},"49dc":function(n,i,e){"use strict";e.r(i);var t=e("e269"),o=e.n(t);for(var u in t)"default"!==u&&function(n){e.d(i,n,(function(){return t[n]}))}(u);i["default"]=o.a},"6cd8":function(n,i,e){"use strict";e.r(i);var t=e("d985"),o=e("49dc");for(var u in o)"default"!==u&&function(n){e.d(i,n,(function(){return o[n]}))}(u);e("1b3f");var r,a=e("f0c5"),c=Object(a["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],r);i["default"]=c.exports},d862:function(n,i,e){"use strict";(function(n){e("286c");t(e("66fd"));var i=t(e("6cd8"));function t(n){return n&&n.__esModule?n:{default:n}}n(i.default)}).call(this,e("543d")["createPage"])},d985:function(n,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return u})),e.d(i,"a",(function(){return t}));var t={uParse:function(){return Promise.all([e.e("common/vendor"),e.e("components/u-parse/u-parse")]).then(e.bind(null,"1bac"))},uniPopup:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-popup/components/uni-popup/uni-popup")]).then(e.bind(null,"207d"))}},o=function(){var n=this,i=n.$createElement;n._self._c},u=[]},e269:function(n,i,e){"use strict";(function(n){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e("e893"),o=function(){Promise.all([e.e("common/vendor"),e.e("components/u-parse/u-parse")]).then(function(){return resolve(e("1bac"))}.bind(null,e)).catch(e.oe)},u={data:function(){return{id:"",info:{},ifplay:!0,innerAudioContext:null,aplay:null,qrCode_show:!1,qrCode_url:"",html_list:[],is_preview:!1,preview_list:[],current_preview:-1,durationTime:0,current_page:0}},provide:function(){return{main:this}},methods:{mask_touchmove:function(){},jx:function(){n.navigateTo({url:"../pensive_home/pensive_home?id="+this.id})},imgPreview:function(n){var i=this;this.current_preview=this.preview_list.findIndex((function(i){return i.img==n})),setTimeout((function(){i.is_preview=!0,i.durationTime=500}),200)},hindImgPreview:function(){this.durationTime=0,this.is_preview=!1},preview_change:function(n){this.current_page=Number(n.detail.currentItemId)-1,this.current_preview=n.detail.current},playMusic:function(n){this.ifplay=!this.ifplay,this.ifplay?this.innerAudioContext.play():this.innerAudioContext.pause()},p_m:function(n){this.ifplay=n,n?this.innerAudioContext.play():this.innerAudioContext.pause()},get_qrCode:function(){var i=this,e={page:"pages/index/index?uid="+n.getStorageSync("user_id")+"&gid="+this.id,width:"300"};(0,t.qr_code)(e,(function(n){i.qrCode_url=n.data.qrcode_url}))},attention:function(){var i={memorial_id:this.id,action:"gz"};(0,t.memorialAction)(i,(function(i){(0,t.execJobs)({job_name:"gz"},(function(n){})),n.showToast({title:"关注成功",icon:"none",duration:2e3})}))},openShare:function(){this.qrCode_show=!0},cancelShare:function(){this.qrCode_show=!1},share_link:function(){},moai:function(){(0,t.memorialAction)({memorial_id:this.id,action:"ma"},(function(n){console.log(n)}))}},components:{uParse:o},onLoad:function(n){var i=this;this.id=n.id;var e={memorial_id:n.id};(0,t.memorial_detail)(e,(function(e){i.info=e.data,i.html_list=e.data.gone_user_details.split("_ueditor_page_break_tag_"),i.preview_list=e.data.gone_user_details_imgs,(0,t.execJobs)({job_name:"gkjng",ref_value:n.id},(function(n){console.log(n)}))})),this.get_qrCode()},onReady:function(){},onShareAppMessage:function(n){(0,t.execJobs)({job_name:"fx"},(function(n){console.log(n)}))},onHide:function(){console.log(1),this.innerAudioContext&&this.innerAudioContext.stop()},destroyed:function(){console.log(2),this.innerAudioContext&&this.innerAudioContext.stop()},onShow:function(){this.innerAudioContext&&(this.ifplay=!0,this.innerAudioContext.play())},watch:{info:function(i){this.info.background_music&&this.$nextTick((function(){this.innerAudioContext&&this.innerAudioContext.destroy(),this.innerAudioContext=n.createInnerAudioContext(),this.innerAudioContext.autoplay=!0,this.innerAudioContext.loop=!0,this.innerAudioContext.src=this.info.background_music,this.innerAudioContext.onError((function(n){console.log(n)}))}))}},mounted:function(){}};i.default=u}).call(this,e("543d")["default"])}},[["d862","common/runtime","common/vendor"]]]);